(function ($){"use strict";$["fn"]["uAccordion"]=function (method){var defaults={horizontal:true,timeout:6000,width:null,slideOffset:null,tabOffset:null,height:null,startingSlide:0,slideClass:null,easing:null,speed:1200,auto:true,trigger:"click",pause:true,invert:false,animationStart:function (){} ,animationComplete:function (){} ,buildComplete:function (){} ,errors:false},helpers={displayError:function (msg,e){if(window["console"]&&e){console["log"]("uAccordion: "+msg+".");} ;} ,findChildElements:function (t){if(t["children"]()["get"](0)===undefined){return false;} else {return true;} ;} ,getNext:function (s,c){var next=c+1;if(next>=s){next=0;} ;return next;} ,fixHeight:function (o){if((o["height"]===null)&&(o["slideHeight"]!==undefined)){o["height"]=o["slideHeight"];return true;} else {if((o["height"]!==null)&&(o["slideHeight"]===undefined)){return true;} else {if((o["height"]===null)&&(o["slideHeight"]===undefined)){return false;} ;} ;} ;} ,getUnits:function (o){if(o!==null){if(o.toString()["indexOf"]("%")>-1){return "%";} else {if(o.toString()["indexOf"]("px")>-1){return "px";} else {return "px";} ;} ;} ;} ,toInteger:function (o){if(o!==null){return parseInt(o,10);} ;} ,sizeAccordion:function (t,o){if((o["width"]===undefined)||(o["height"]===undefined)){helpers["displayError"]("width and height must be defined",o["errors"]);return false;} else {if((o["slideOffset"]===undefined)&&(o["tabOffset"]===undefined)){if((o["width"]>100)&&(o["widthUnits"]==="%")){helpers["displayError"]("width cannot be over 100%",o["errors"]);return false;} else {if((o["height"]>100)&&(o["heightUnits"]==="%")){helpers["displayError"]("height cannot be over 100%",o["errors"]);return false;} else {if(o["horizontal"]){o["slideOffsetUnits"]=o["widthUnits"];o["tabOffsetUnits"]=o["widthUnits"];} else {o["slideOffsetUnits"]=o["heightUnits"];o["tabOffsetUnits"]=o["heightUnits"];} ;if(o["slideOffsetUnits"]==="%"){o["tabOffset"]=100/(t["children"]()["size"]()+1);o["slideOffset"]=100-((t["children"]()["size"]()-1)*o["tabOffset"]);} else {o["tabOffset"]=o["width"]/(t["children"]()["size"]()+1);o["slideOffset"]=(o["horizontal"]?o["width"]:o["height"])-((t["children"]()["size"]()-1)*o["tabOffset"]);} ;return true;} ;} ;} else {if((o["slideOffset"]===undefined)&&(o["tabOffset"]!==undefined)){if(o["horizontal"]&&o["widthUnits"]!==o["tabOffsetUnits"]){helpers["displayError"]("Width Units do not match",o["errors"]);return false;} else {if(!o["horizontal"]&&o["heightUnits"]!==o["tabOffsetUnits"]){helpers["displayError"]("Height Units do not match",o["errors"]);return false;} else {if((o["width"]>100)&&(o["widthUnits"]==="%")){helpers["displayError"]("width cannot be over 100%",o["errors"]);return false;} else {if((o["height"]>100)&&(o["heightUnits"]==="%")){helpers["displayError"]("height cannot be over 100%",o["errors"]);return false;} else {if(o["horizontal"]&&((((t["children"]()["size"]()*o["tabOffset"])>100)&&(o["widthUnits"]==="%"))||(((t["children"]()["size"]()*o["tabOffset"])>o["width"])&&(o["widthUnits"]==="px")))){helpers["displayError"]("horizontal tabOffset too large for accordion",o["errors"]);return false;} else {if(!o["horizontal"]&&((((t["children"]()["size"]()*o["tabOffset"])>100)&&(o["heightUnits"]==="%"))||(((t["children"]()["size"]()*o["tabOffset"])>o["height"])&&(o["heightUnits"]==="px")))){helpers["displayError"]("vertical tabOffset too large for accordion",o["errors"]);return false;} else {if(o["horizontal"]){o["slideOffsetUnits"]=o["widthUnits"];} else {o["slideOffsetUnits"]=o["heightUnits"];} ;if(o["slideOffsetUnits"]==="%"){o["slideOffset"]=100-((t["children"]()["size"]()-1)*o["tabOffset"]);} else {o["slideOffset"]=(o["horizontal"]?o["width"]:o["height"])-((t["children"]()["size"]()-1)*o["tabOffset"]);} ;return true;} ;} ;} ;} ;} ;} ;} else {if((o["slideOffset"]!==undefined)&&(o["tabOffset"]===undefined)){if(o["horizontal"]&&o["widthUnits"]!==o["slideOffsetUnits"]){helpers["displayError"]("Width Units do not match",o["errors"]);return false;} else {if(!o["horizontal"]&&o["heightUnits"]!==o["slideOffsetUnits"]){helpers["displayError"]("Height Units do not match",o["errors"]);return false;} else {if((o["width"]>100)&&(o["widthUnits"]==="%")){helpers["displayError"]("width cannot be over 100%",o["errors"]);return false;} else {if((o["height"]>100)&&(o["heightUnits"]==="%")){helpers["displayError"]("height cannot be over 100%",o["errors"]);return false;} else {if(o["horizontal"]&&o["slideOffset"]>=o["width"]){helpers["displayError"]("slideOffset cannot be greater than or equal to width",o["errors"]);return false;} else {if(!o["horizontal"]&&o["slideOffset"]>=o["height"]){helpers["displayError"]("slideOffset cannot be greater than or equal to height",o["errors"]);return false;} else {if((((t["children"]()["size"]()*o["slideOffset"])<100)&&o["horizontal"]&&(o["widthUnits"]==="%"))||(((t["children"]()["size"]()*o["slideOffset"])<o["width"])&&(o["widthUnits"]==="px"))){helpers["displayError"]("slideOffset too small for accordion",o["errors"]);return false;} else {if((((t["children"]()["size"]()*o["slideOffset"])<100)&&!o["horizontal"]&&(o["heightUnits"]==="%"))||(((t["children"]()["size"]()*o["slideOffset"])<o["height"])&&(o["heightUnits"]==="px"))){helpers["displayError"]("slideOffset too small for accordion",o["errors"]);return false;} else {if(o["horizontal"]){o["tabOffsetUnits"]=o["widthUnits"];} else {o["tabOffsetUnits"]=o["heightUnits"];} ;if(o["tabOffsetUnits"]==="%"){o["tabOffset"]=(100-o["slideOffset"])/(t["children"]()["size"]()-1);} else {o["tabOffset"]=((o["horizontal"]?o["width"]:o["height"])-o["slideOffset"])/(t["children"]()["size"]()-1);} ;return true;} ;} ;} ;} ;} ;} ;} ;} ;} ;} ;} ;} ;} ,timer:function (obj){var n=obj["data"]("next")+1;if(obj["data"]("pause")&&obj["data"]("inside")&&obj["data"]("auto")){try{clearTimeout(obj["data"]("interval"));} catch(e){} ;} else {if(obj["data"]("pause")&&!obj["data"]("inside")&&obj["data"]("auto")){try{clearTimeout(obj["data"]("interval"));} catch(f){} ;obj["data"]("interval",setTimeout(function (){obj["children"](obj["children"]()["get"](0)["tagName"]+":nth-child("+n+")")["trigger"](obj["data"]("trigger"));} ,obj["data"]("timeout")));} else {if(!obj["data"]("pause")&&obj["data"]("auto")){try{clearTimeout(obj["data"]("interval"));} catch(g){} ;obj["data"]("interval",setTimeout(function (){obj["children"](obj["children"]()["get"](0)["tagName"]+":nth-child("+n+")")["trigger"](obj["data"]("trigger"));} ,obj["data"]("timeout")));} ;} ;} ;} },methods={init:function (options){var f,fixattr=["slideOffset","tabOffset","startingSlide","slideClass","animationStart","animationComplete","buildComplete"];for(f=0;f<fixattr["length"];f+=1){if($(this)["data"](fixattr[f]["toLowerCase"]())!==undefined){$(this)["data"](fixattr[f],$(this)["data"](fixattr[f]["toLowerCase"]()));$(this)["removeData"](fixattr[f]["toLowerCase"]());} ;} ;options=$["extend"](defaults,options,$(this)["data"]());if(this["length"]<=0){helpers["displayError"]("Selector does not exist",options["errors"]);return false;} else {if(!helpers["fixHeight"](options)){helpers["displayError"]("height must be defined",options["errors"]);return false;} else {if(!helpers["findChildElements"](this)){helpers["displayError"]("No child elements available",options["errors"]);return false;} else {if(options["speed"]>options["timeout"]){helpers["displayError"]("Speed cannot be greater than timeout",options["errors"]);return false;} else {options["heightUnits"]=helpers["getUnits"](options["height"]);options["height"]=helpers["toInteger"](options["height"]);options["widthUnits"]=helpers["getUnits"](options["width"]);options["width"]=helpers["toInteger"](options["width"]);options["slideOffsetUnits"]=helpers["getUnits"](options["slideOffset"]);options["slideOffset"]=helpers["toInteger"](options["slideOffset"]);options["tabOffsetUnits"]=helpers["getUnits"](options["tabOffset"]);options["tabOffset"]=helpers["toInteger"](options["tabOffset"]);if(options["slideClass"]!==null){options["slideOpenClass"]=options["slideClass"]+"-open";options["slideClosedClass"]=options["slideClass"]+"-closed";options["slidePreviousClass"]=options["slideClass"]+"-previous";} ;if(!helpers["sizeAccordion"](this,options)){return false;} else {return this["each"](function (){var o=options,obj=$(this),originals=[],animate,tag,childtag,size,previous=-1;animate=o["slideOffset"]-o["tabOffset"];tag=obj["get"](0)["tagName"];childtag=obj["children"]()["get"](0)["tagName"];size=obj["children"]()["size"]();obj["data"]($["extend"]({},{auto:o["auto"],interval:null,timeout:o["timeout"],trigger:o["trigger"],current:o["startingSlide"],previous:previous,next:helpers["getNext"](size,o["startingSlide"]),slideClass:o["slideClass"],inside:false,pause:o["pause"]}));if(o["heightUnits"]==="%"){o["height"]=(obj["parent"]()["get"](0)["tagName"]==="BODY")?o["height"]*0.01*$(window)["height"]():o["height"]*0.01*obj["parent"]()["height"]();o["heightUnits"]="px";} ;obj["children"]()["each"](function (childindex){var zindex,xpos,y;xpos=o["invert"]?xpos=((size-1)*o["tabOffset"])-(childindex*o["tabOffset"]):childindex*o["tabOffset"];originals[childindex]=xpos;zindex=o["invert"]?((size-1)-childindex)*10:childindex*10;if(o["slideClass"]!==null){$(this)["addClass"](o["slideClass"]);} ;var w=0;var h=0;if(o["horizontal"]){w=o["slideOffset"]+o["widthUnits"];h=o["height"]+o["heightUnits"];} else {w=o["width"]+o["widthUnits"];h=o["slideOffset"]+o["heightUnits"];} ;$(this)["css"]({"top":0,"z-index":zindex,"margin":0,"padding":0,"display":"block","position":"absolute","overflow":"hidden","width":w,"height":h});if(childtag==="LI"){$(this)["css"]({"text-indent":0});} ;if(o["horizontal"]){if(o["invert"]){$(this)["css"]({"right":xpos+o["widthUnits"],"float":"right"});} else {$(this)["css"]({"left":xpos+o["widthUnits"],"float":"left"});} ;} else {if(o["invert"]){$(this)["css"]({"bottom":xpos+o["widthUnits"],top:"auto"});} else {$(this)["css"]({"top":xpos+o["heightUnits"]});} ;} ;if(childindex===(o["startingSlide"])){$(this)["css"]("cursor","default");if(o["slideClass"]!==null){$(this)["addClass"](o["slideOpenClass"]);} ;} else {$(this)["css"]("cursor","pointer");if(o["slideClass"]!==null){$(this)["addClass"](o["slideClosedClass"]);} ;if((childindex>(o["startingSlide"]))&&(!o["invert"])){y=childindex+1;if(o["horizontal"]){obj["children"](childtag+":nth-child("+y+")")["css"]({left:originals[y-1]+animate+o["widthUnits"]});} else {obj["children"](childtag+":nth-child("+y+")")["css"]({top:originals[y-1]+animate+o["heightUnits"]});} ;} else {if((childindex<(o["startingSlide"]))&&(o["invert"])){y=childindex+1;if(o["horizontal"]){obj["children"](childtag+":nth-child("+y+")")["css"]({right:originals[y-1]+animate+o["widthUnits"]});} else {obj["children"](childtag+":nth-child("+y+")")["css"]({bottom:originals[y-1]+animate+o["heightUnits"],top:"auto"});} ;} ;} ;} ;} );obj["css"]({"display":"block","height":o["height"]+o["heightUnits"],"width":o["width"]+o["widthUnits"],"padding":0,"position":"relative","overflow":"hidden"});if((tag==="UL")||(tag==="OL")){obj["css"]({"list-style":"none"});} ;obj["hover"](function (){obj["data"]("inside",true);if(obj["data"]("pause")){try{clearTimeout(obj["data"]("interval"));} catch(e){} ;} ;} ,function (){obj["data"]("inside",false);if(obj["data"]("auto")&&obj["data"]("pause")){helpers["timer"](obj);} ;} );obj["children"]()["bind"](o["trigger"],function (){if($(this)["index"]()!==obj["data"]("current")){var i,j,p,c;p=previous+1;c=obj["data"]("current")+1;if((p!==0)&&(o["slideClass"]!==null)){obj["children"](childtag+":nth-child("+p+")")["removeClass"](o["slidePreviousClass"]);} ;obj["children"](childtag+":nth-child("+c+")");if(o["slideClass"]!==null){obj["children"](childtag+":nth-child("+c+")")["addClass"](o["slidePreviousClass"]);} ;previous=obj["data"]("current");obj["data"]("previous",obj["data"]("current"));p=previous;p+=1;obj["data"]("current",$(this)["index"]());c=obj["data"]("current");c+=1;obj["children"]()["css"]("cursor","pointer");$(this)["css"]("cursor","default");if(o["slideClass"]!==null){obj["children"]()["addClass"](o["slideClosedClass"])["removeClass"](o["slideOpenClass"]);$(this)["addClass"](o["slideOpenClass"])["removeClass"](o["slideClosedClass"]);} ;obj["data"]("next",helpers["getNext"](size,$(this)["index"]()));helpers["timer"](obj);o["animationStart"]();if(o["invert"]){if(o["horizontal"]){obj["children"](childtag+":nth-child("+c+")")["stop"]()["animate"]({right:originals[obj["data"]("current")]+o["widthUnits"]},o["speed"],o["easing"],o["animationComplete"]);} else {obj["children"](childtag+":nth-child("+c+")")["stop"]()["animate"]({bottom:originals[obj["data"]("current")]+o["heightUnits"],top:"auto"},o["speed"],o["easing"],o["animationComplete"]);} ;} else {if(o["horizontal"]){obj["children"](childtag+":nth-child("+c+")")["stop"]()["animate"]({left:originals[obj["data"]("current")]+o["widthUnits"]},o["speed"],o["easing"],o["animationComplete"]);} else {obj["children"](childtag+":nth-child("+c+")")["stop"]()["animate"]({top:originals[obj["data"]("current")]+o["heightUnits"]},o["speed"],o["easing"],o["animationComplete"]);} ;} ;for(i=0;i<size;i+=1){j=i+1;if(i<obj["data"]("current")){if(o["invert"]){if(o["horizontal"]){obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({right:o["width"]-(j*o["tabOffset"])+o["widthUnits"]},o["speed"],o["easing"]);} else {obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({bottom:o["height"]-(j*o["tabOffset"])+o["heightUnits"],top:"auto"},o["speed"],o["easing"]);} ;} else {if(o["horizontal"]){obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({left:originals[i]+o["widthUnits"]},o["speed"],o["easing"]);} else {obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({top:originals[i]+o["heightUnits"]},o["speed"],o["easing"]);} ;} ;} ;if(i>obj["data"]("current")){if(o["invert"]){if(o["horizontal"]){obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({right:(size-j)*o["tabOffset"]+o["widthUnits"]},o["speed"],o["easing"]);} else {obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({bottom:(size-j)*o["tabOffset"]+o["heightUnits"],top:"auto"},o["speed"],o["easing"]);} ;} else {if(o["horizontal"]){obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({left:originals[i]+animate+o["widthUnits"]},o["speed"],o["easing"]);} else {obj["children"](childtag+":nth-child("+j+")")["stop"]()["animate"]({top:originals[i]+animate+o["heightUnits"]},o["speed"],o["easing"]);} ;} ;} ;} ;return false;} ;} );if(obj["data"]("auto")){helpers["timer"](obj);} ;o["buildComplete"]();} );} ;} ;} ;} ;} ;} ,stop:function (){if($(this)["data"]("auto")){clearTimeout($(this)["data"]("interval"));$(this)["data"]("auto",false);} ;} ,start:function (){if(!$(this)["data"]("auto")){var n=$(this)["data"]("next")+1;$(this)["data"]("auto",true);$(this)["children"]($(this)["children"]()["get"](0)["tagName"]+":nth-child("+n+")")["trigger"]($(this)["data"]("trigger"));} ;} ,trigger:function (x){if((x>=$(this)["children"]()["size"]())||(x<0)){x=0;} ;x+=1;$(this)["children"]($(this)["children"]()["get"](0)["tagName"]+":nth-child("+x+")")["trigger"]($(this)["data"]("trigger"));} ,destroy:function (o){var removestyle,removeclasses,prefix=$(this)["data"]("slideClass");if(o!==undefined){removestyle=(o["removeStyleAttr"]!==undefined)?o["removeStyleAttr"]:true;removeclasses=(o["removeClasses"]!==undefined)?o["removeClasses"]:false;} ;clearTimeout($(this)["data"]("interval"));$(this)["children"]()["stop"]()["unbind"]($(this)["data"]("trigger"));$(this)["unbind"]("mouseenter mouseleave mouseover mouseout");if(removestyle){$(this)["removeAttr"]("style");$(this)["children"]()["removeAttr"]("style");} ;if(removeclasses){$(this)["children"]()["removeClass"](prefix);$(this)["children"]()["removeClass"](prefix+"-open");$(this)["children"]()["removeClass"](prefix+"-closed");$(this)["children"]()["removeClass"](prefix+"-previous");} ;$(this)["removeData"]();if(o!==undefined){if(o["destroyComplete"]!=="undefined"){if( typeof (o["destroyComplete"]["afterDestroy"])!=="undefined"){o["destroyComplete"]["afterDestroy"]();} ;if(o["destroyComplete"]["rebuild"]){return methods["init"]["apply"](this,[o["destroyComplete"]["rebuild"]]);} ;} ;} ;} };if(methods[method]){return methods[method]["apply"](this,Array["prototype"]["slice"]["call"](arguments,1));} else {if( typeof method==="object"||!method){return methods["init"]["apply"](this,arguments);} else {$["error"]("uAccordion: "+method+" does not exist.");} ;} ;} ;} (jQuery));